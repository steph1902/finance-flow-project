# ============================================================================
# VERCEL DEPLOYMENT - ENVIRONMENT VARIABLES SCHEMA
# ============================================================================
# This file documents ALL environment variables used in the application.
# Copy to .env.local for development or configure in Vercel Dashboard for production.
#
# Required variables marked with [REQUIRED]
# Optional variables marked with [OPTIONAL]
# ============================================================================

# ============================================================================
# CRITICAL - REQUIRED FOR DEPLOYMENT
# ============================================================================

# Database Connection (PostgreSQL)
# [REQUIRED] - Application will fail without this
# Production: Use Vercel Postgres, Supabase, or other managed PostgreSQL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://user:password@host:5432/dbname?schema=public"

# NextAuth.js Authentication Secret
# [REQUIRED] - Used for JWT encryption and session management
# Generate with: openssl rand -base64 32
# MUST be different in production than development
NEXTAUTH_SECRET="your-secret-here-min-32-chars"

# NextAuth.js Base URL
# [REQUIRED] - Your application's base URL
# Development: http://localhost:3000
# Production: https://your-domain.vercel.app or custom domain
NEXTAUTH_URL="http://localhost:3000"

# Google Gemini AI API Key
# [REQUIRED] - Used for AI-powered financial insights
# Get from: https://aistudio.google.com/app/apikey
# Free tier: 60 requests/minute
GEMINI_API_KEY="your-gemini-api-key"

# ============================================================================
# AI CONFIGURATION
# ============================================================================

# AI Model Configuration
# [OPTIONAL] - Defaults provided, adjust based on your needs
AI_MODEL_VERSION="gemini-1.5-flash"
AI_TEMPERATURE="0.7"
AI_MAX_TOKENS="2048"
AI_AUTO_ACCEPT_THRESHOLD="0"

# ============================================================================
# OAUTH PROVIDERS (Optional but recommended for production)
# ============================================================================

# Google OAuth
# [OPTIONAL] - Enable Google Sign-In
# Get from: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# ============================================================================
# PAYMENT PROCESSING (Stripe)
# ============================================================================

# Stripe API Keys
# [OPTIONAL] - Required only if using subscription features
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=""
STRIPE_PUBLISHABLE_KEY=""
STRIPE_WEBHOOK_SECRET=""

# Stripe Price IDs (for subscription tiers)
# [OPTIONAL] - Create products in Stripe Dashboard
STRIPE_PRICE_BASIC=""
STRIPE_PRICE_PREMIUM=""
STRIPE_PRICE_ENTERPRISE=""

# ============================================================================
# EMAIL SERVICE (Resend)
# ============================================================================

# Resend API
# [OPTIONAL] - Required for email notifications
# Get from: https://resend.com/api-keys
RESEND_API_KEY=""
EMAIL_FROM="noreply@financeflow.app"

# ============================================================================
# BANK INTEGRATION (Plaid)
# ============================================================================

# Plaid API
# [OPTIONAL] - Required for bank account integration
# Get from: https://dashboard.plaid.com/
PLAID_CLIENT_ID=""
PLAID_SECRET=""
PLAID_ENV="sandbox"  # sandbox | development | production

# ============================================================================
# ADDITIONAL SERVICES
# ============================================================================

# Google Cloud Vision API (for receipt OCR)
# [OPTIONAL] - Used for receipt scanning feature
# Get from: https://console.cloud.google.com/
GOOGLE_CLOUD_API_KEY=""

# Currency Exchange API (Fixer.io)
# [OPTIONAL] - For multi-currency support
# Get from: https://fixer.io/
FIXER_API_KEY=""

# ============================================================================
# VERCEL-SPECIFIC
# ============================================================================

# Vercel Cron Job Authentication
# [REQUIRED for cron jobs] - Secure your cron endpoints
# Generate with: openssl rand -base64 32
CRON_SECRET="your-cron-secret-here"

# Vercel KV (Redis)
# [OPTIONAL] - Auto-populated if using Vercel KV
# Used for caching and rate limiting
KV_URL=""
KV_REST_API_URL=""
KV_REST_API_TOKEN=""
KV_REST_API_READ_ONLY_TOKEN=""

# ============================================================================
# PUBLIC ENVIRONMENT VARIABLES (Available in browser)
# ============================================================================

# Application URL (for SEO and sharing)
# [OPTIONAL] - Defaults to financeflow.app
NEXT_PUBLIC_APP_URL="https://financeflow.app"

# Backend API URL (if using separate backend)
# [OPTIONAL] - Only needed if backend is deployed separately
NEXT_PUBLIC_API_URL=""

# ============================================================================
# RUNTIME ENVIRONMENT
# ============================================================================

# Node Environment
# [OPTIONAL] - Auto-set by Vercel
# Values: development | production | test
NODE_ENV="production"

# Build Phase Indicator
# [OPTIONAL] - Auto-set by Next.js during build
NEXT_PHASE=""

# ============================================================================
# NEST.JS BACKEND (If deploying backend separately)
# ============================================================================

# Backend Port
# [OPTIONAL] - Only if running standalone backend
PORT="3001"
API_PREFIX="api/v1"

# Redis Configuration (for backend)
# [OPTIONAL] - Required for backend rate limiting and caching
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""
REDIS_DB="0"

# JWT Configuration (for backend)
# [OPTIONAL] - Only if using separate backend auth
JWT_SECRET="your-jwt-secret"
JWT_EXPIRATION="1h"
JWT_REFRESH_SECRET="your-refresh-secret"
JWT_REFRESH_EXPIRATION="7d"

# Rate Limiting (for backend)
# [OPTIONAL]
RATE_LIMIT_TTL="60"
RATE_LIMIT_MAX="100"

# CORS Configuration (for backend)
# [OPTIONAL]
CORS_ORIGIN="http://localhost:3000"

# Logging (for backend)
# [OPTIONAL]
LOG_LEVEL="info"
LOG_DIR="logs"

# ============================================================================
# TESTING ENVIRONMENT
# ============================================================================

# Test Database URL
# [OPTIONAL] - Only for running tests
TEST_DATABASE_URL="postgresql://test:test@localhost:5432/financeflow_test"

# ============================================================================
# DEPLOYMENT CHECKLIST
# ============================================================================
#
# MINIMUM REQUIRED FOR VERCEL DEPLOYMENT:
# ✓ DATABASE_URL
# ✓ NEXTAUTH_SECRET
# ✓ NEXTAUTH_URL
# ✓ GEMINI_API_KEY
# ✓ CRON_SECRET (if using cron jobs)
#
# RECOMMENDED FOR PRODUCTION:
# ✓ GOOGLE_CLIENT_ID & GOOGLE_CLIENT_SECRET (for OAuth)
# ✓ STRIPE_* variables (for subscriptions)
# ✓ RESEND_API_KEY (for email notifications)
#
# OPTIONAL ENHANCEMENTS:
# - PLAID_* variables (for bank integration)
# - GOOGLE_CLOUD_API_KEY (for receipt scanning)
# - FIXER_API_KEY (for multi-currency)
# - KV_* variables (for advanced caching)
#
# ============================================================================
